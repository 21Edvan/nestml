/*
  A straight forward implementation of the RC circuit approach.
  Extends the integrate method with a threshold and fire behaviour.
*/
neuron iaf_reset:

  state:
    V_abs mV = 0mV
    alias V_m mV = V_abs + E_L
    I_syn pA = 0pA
  end

  equations:
      V_abs' = -1/tau_m * V_abs + 1/C_m*I_syn
  end

  parameter:
    E_L   mV = -65mV
    C_m   pF = 250pF
    tau_m ms = 10ms
    alias V_th mV =  55mV + E_L
    alias V_reset mV =  10mV + E_L
  end

  input:
    spikes   <- spike
  end

  output: spike

  update:
    integrate(V_abs)
    if V_abs > V_th:
      V_abs = V_reset
    end
    I_syn = spikes.get_sum()
  end

end